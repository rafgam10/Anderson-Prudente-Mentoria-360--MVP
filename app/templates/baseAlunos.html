<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}Mentoria 360° - Aluno{% endblock %}</title>
    <script src="https://unpkg.com/@phosphor-icons/web"></script>
    <link href="{{ url_for('static', filename='output.css') }}" rel="stylesheet">
</head>

<body class="bg-[#101010] text-white min-h-screen flex flex-col">
    <div class="min-h-screen bg-[#0d0d0d] text-white flex flex-col">

        <!-- Navbar -->
        <header class="bg-[#171717] border-b border-[#2a2a2a] px-4 sm:px-8 py-3 flex items-center justify-between">
            <div class="flex items-center gap-6">
                <div class="flex flex-col items-center">
                    <span class="text-lg font-bold">Mentoria <span class="text-[#f8ca54]">360°</span></span>
                    <img src="{{ url_for('static', filename='img/icone.webp') }}" alt="Logo" class="h-7 w-auto">
                </div>

                <h1 class="text-lg sm:text-xl font-bold">
                    {% block navbar_title %}Painel do Aluno{% endblock %}
                </h1>
            </div>

            <!-- Menu desktop -->
            <nav class="hidden sm:flex gap-6">
                <a href="" class="flex items-center gap-2 px-3 py-2 rounded-md transition
                    {% if request.endpoint == 'aluno.cursos' %} bg-[#f8ca54] text-[#101010] font-semibold 
                    {% else %} text-gray-300 hover:text-[#f8ca54] {% endif %}">
                    <i class="ph ph-book-open"></i> Meus Cursos
                </a>

                <a href="" class="flex items-center gap-2 px-3 py-2 rounded-md transition
                    {% if request.endpoint == 'aluno.perfil' %} bg-[#f8ca54] text-[#101010] font-semibold 
                    {% else %} text-gray-300 hover:text-[#f8ca54] {% endif %}">
                    <i class="ph ph-user"></i> Perfil
                </a>

                <a href="" class="flex items-center gap-2 px-3 py-2 rounded-md transition
                    {% if request.endpoint == 'aluno.conta' %} bg-[#f8ca54] text-[#101010] font-semibold 
                    {% else %} text-gray-300 hover:text-[#f8ca54] {% endif %}">
                    <i class="ph ph-gear"></i> Minha Conta
                </a>
            </nav>

            <!-- Botão mobile -->
            <button id="menu-btn" class="sm:hidden text-white text-2xl">
                <i class="ph ph-list"></i>
            </button>

        </header>

        <!-- Menu mobile -->
        <nav id="mobile-menu" class="hidden flex-col bg-[#171717] border-b border-[#2a2a2a] sm:hidden 
            transition-all duration-300 ease-in-out transform opacity-0 -translate-y-4">

            <a href="" class="px-4 py-3 flex items-center gap-2 rounded-md transition
                {% if request.endpoint == 'aluno.cursos' %} bg-[#f8ca54] text-[#101010] font-semibold 
                {% else %} text-gray-300 hover:text-[#f8ca54] {% endif %}">
                <i class="ph ph-book-open"></i> Meus Cursos
            </a>

            <a href="" class="px-4 py-3 flex items-center gap-2 rounded-md transition
                {% if request.endpoint == 'aluno.perfil' %} bg-[#f8ca54] text-[#101010] font-semibold 
                {% else %} text-gray-300 hover:text-[#f8ca54] {% endif %}">
                <i class="ph ph-user"></i> Perfil
            </a>

            <a href="" class="px-4 py-3 flex items-center gap-2 rounded-md transition
                {% if request.endpoint == 'aluno.conta' %} bg-[#f8ca54] text-[#101010] font-semibold 
                {% else %} text-gray-300 hover:text-[#f8ca54] {% endif %}">
                <i class="ph ph-gear"></i> Minha Conta
            </a>
        </nav>

        {% block content %}

        {% endblock %}

        <!-- Script -->
        <script>
            const menuBtn = document.getElementById("menu-btn");
            const mobileMenu = document.getElementById("mobile-menu");

            let menuOpen = false;

            menuBtn.addEventListener("click", () => {
                menuOpen = !menuOpen;

                if (menuOpen) {
                    mobileMenu.classList.remove("hidden");
                    // força reflow pra animação aplicar
                    void mobileMenu.offsetWidth;
                    mobileMenu.classList.remove("opacity-0", "-translate-y-4");
                    mobileMenu.classList.add("opacity-100", "translate-y-0");
                } else {
                    mobileMenu.classList.remove("opacity-100", "translate-y-0");
                    mobileMenu.classList.add("opacity-0", "-translate-y-4");

                    // espera a animação antes de esconder
                    setTimeout(() => {
                        if (!menuOpen) {
                            mobileMenu.classList.add("hidden");
                        }
                    }, 300);
                }
            });
        </script>

</body>

</html>